---
import { Picture } from "astro:assets";
import swiperUrl from "../scripts/swiper.ts?url";
import SliderButton from "./SliderButton.astro";

const items = [
    {
        category: "WWW / Landing Page",
        title: "Innovation and Crafts.",
        description: "Nowoczesny layout + animacje + CTA pod konwersję.",
        image: (await import("../assets/images/portfolio.webp")).default,
    },
    {
        category: "Wirtualny spacer 360°",
        title: "Immersive Tour Experience.",
        description: "Prezentacja obiektu w 360° z nawigacją i hotspotami.",
        image: (await import("../assets/images/portfolio.webp")).default,
    },
    {
        category: "Wizualizacja 3D",
        title: "Concept Visualization.",
        description: "Realistyczne rendery do marketingu i przedsprzedaży.",
        image: (await import("../assets/images/portfolio.webp")).default,
    },
    {
        category: "WWW / Strona firmowa",
        title: "Modern Web Presence.",
        description: "Szybka strona, SEO i świetny UX na mobile.",
        image: (await import("../assets/images/portfolio.webp")).default,
    },
    {
        category: "WWW / Landing Page",
        title: "Innovation and Crafts.",
        description: "Nowoczesny layout + animacje + CTA pod konwersję.",
        image: (await import("../assets/images/portfolio.webp")).default,
    },
    {
        category: "Wirtualny spacer 360°",
        title: "Immersive Tour Experience.",
        description: "Prezentacja obiektu w 360° z nawigacją i hotspotami.",
        image: (await import("../assets/images/portfolio.webp")).default,
    },
    {
        category: "Wizualizacja 3D",
        title: "Concept Visualization.",
        description: "Realistyczne rendery do marketingu i przedsprzedaży.",
        image: (await import("../assets/images/portfolio.webp")).default,
    },
    {
        category: "WWW / Strona firmowa",
        title: "Modern Web Presence.",
        description: "Szybka strona, SEO i świetny UX na mobile.",
        image: (await import("../assets/images/portfolio.webp")).default,
    },
];
---

<div class="relative text-secondary">
    <SliderButton direction="prev" icon="←" ariaLabel="Previous" />
    <SliderButton direction="next" icon="→" ariaLabel="Next" />
    <div class="swiper portfolio-swiper">
        <div class="swiper-wrapper">
            {
                items.map((p) => (
                    <div class="swiper-slide">
                        <div class="slide-inner">
                            <article class="w-full">
                                <div class="overflow-hidden rounded-lg">
                                    <Picture
                                        src={p.image}
                                        alt={p.title}
                                        width={1920}
                                        height={1080}
                                        loading="lazy"
                                        decoding="async"
                                        class="block w-full aspect-video object-cover"
                                    />
                                </div>

                                <div class="pt-5 text-center">
                                    <p class="text-xs tracking-[0.25em] text-white/50 uppercase">
                                        {p.category}
                                    </p>
                                    <h4 class="mt-2 text-xl md:text-2xl font-semibold">
                                        {p.title}
                                    </h4>
                                    <p class="mt-2 text-sm md:text-base text-white/70 max-w-[52ch] mx-auto">
                                        {p.description}
                                    </p>
                                </div>
                            </article>
                        </div>
                    </div>
                ))
            }
        </div>
    </div>
</div>

<style is:global>
    .portfolio-swiper {
        overflow: visible;
    }
    .portfolio-swiper .swiper-slide {
        width: clamp(600px, 80vw, 1100px);
        transition: opacity 320ms ease;
    }
    .portfolio-swiper .swiper-slide .slide-inner {
        transition: transform 320ms ease;
        transform: scale(0.86);
        transform-origin: center;
    }

    .portfolio-swiper .swiper-slide-active {
        opacity: 1;
    }
    .portfolio-swiper .swiper-slide-active .slide-inner {
        transform: scale(1);
    }

    .portfolio-swiper .swiper-slide-prev,
    .portfolio-swiper .swiper-slide-next {
        opacity: 0.65;
    }
    .portfolio-swiper .swiper-slide-prev .slide-inner,
    .portfolio-swiper .swiper-slide-next .slide-inner {
        transform: scale(0.92);
    }
    @media (max-width: 640px) {
        .portfolio-swiper .swiper-slide {
            width: clamp(280px, 86vw, 520px);
        }
    }
</style>

<script type="module" src={swiperUrl}></script>
