---
import ContentDescription from "./ContentDescription.astro";
import ContentHeader from "./ContentHeader.astro";
import ContentSubHeader from "./ContentSubHeader.astro";
import type { RealizationData } from "../content/realization";
import { Picture } from "astro:assets";

const { data } = Astro.props as { data: RealizationData };
---

<section
    id={data.id}
    class="bg-secondary md:bg-radial-light scroll-mt-15 md:scroll-mt-22.5"
>
    <div
        data-aos="fade-up"
        class="max-w-360 flex flex-col items-center justify-center m-auto py-10 md:py-30 px-5 lg:px-1"
    >
        <ContentHeader text={data.header} class="text-primary" />
        <ContentSubHeader text={data.subHeader} class="gradient-dark" />
        <ContentDescription
            text={data.description}
            class="text-center text-primary"
        />
        <div
            data-aos="fade-up"
            class="bg-neutral-200 mt-5 md:m-5 md:mt-15 rounded-lg"
        >
            <div
                class="pt-5 px-5 md:pt-10 md:pb-10 lg:pt-15 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 items-center justify-center auto-rows-fr divide-y divide-white md:divide-y-0 lg:divide-x lg:divide-y-0 lg:divide-white"
            >
                {
                    data.items.map((item, i) => {
                        const isFirst = i === 0;
                        const isFirstTwo = i < 2;

                        return (
                            <div
                                data-aos="fade-up"
                                class="lg:px-5 pb-0 transition-all duration-300 text-primary h-full flex flex-col border-white md:max-lg:border-b md:max-lg:nth-last-[-n+2]:border-b-0 md:max-lg:odd:border-r md:max-lg:even:border-r-0"
                            >
                                <div
                                    class:list={[
                                        "flex flex-col items-start gap-5 flex-1 py-5 md:p-5",
                                        isFirst && "pt-0",
                                        isFirstTwo && "md:max-lg:pt-0",
                                        "lg:py-5",
                                    ]}
                                >
                                    <div class="text-5xl text-primary-lighter font-extralight">
                                        {item.number}
                                    </div>

                                    <h4 class="text-lg text-left font-semibold">
                                        {item.title}
                                    </h4>

                                    <div class="text-sm text-primary text-left">
                                        <p>{item.description}</p>
                                    </div>
                                </div>
                            </div>
                        );
                    })
                }
            </div>
            <div>
                <div
                    data-aos="fade-up"
                    class="w-full aspect-video md:aspect-2/1 lg:aspect-3/1 overflow-hidden pb-5 lg:pb-15 px-5 md:px-10"
                >
                    <Picture
                        src={data.image}
                        alt="about"
                        width={1920}
                        height={1080}
                        loading="lazy"
                        decoding="async"
                        class="w-full h-full object-cover rounded-lg"
                    />
                </div>
            </div>
        </div>
    </div>
</section>
